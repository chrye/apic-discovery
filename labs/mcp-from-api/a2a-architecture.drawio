<mxfile host="app.diagrams.net" modified="2026-02-09" agent="A2A Demo" version="24.0.0" type="device">
  <diagram id="a2a-architecture" name="A2A Architecture">
    <mxGraphModel dx="1200" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="&lt;b&gt;A2A Agents — REST API to A2A Protocol with Azure API Management&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=16;fontColor=#0078D4;fillColor=none;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="150" y="10" width="700" height="35" as="geometry" />
        </mxCell>

        <!-- Resource Group container -->
        <mxCell id="rg" value="Resource Group: rg-lab-a2a-demo (uksouth)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3F3F3;strokeColor=#999999;strokeWidth=2;dashed=1;verticalAlign=top;fontStyle=1;fontSize=11;fontColor=#666666;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="50" y="55" width="920" height="730" as="geometry" />
        </mxCell>

        <!-- APIM container -->
        <mxCell id="apim" value="Azure API Management (Basicv2)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E6F2FA;strokeColor=#0078D4;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=13;fontColor=#0078D4;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="80" y="100" width="860" height="400" as="geometry" />
        </mxCell>

        <!-- AI Client -->
        <mxCell id="client" value="&lt;b&gt;AI Client / Agent&lt;/b&gt;" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="530" width="140" height="60" as="geometry" />
        </mxCell>

        <!-- ========== TITLE AGENT ========== -->
        <mxCell id="title_box" value="Title Agent" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;fontColor=#4CAF50;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="110" y="155" width="240" height="320" as="geometry" />
        </mxCell>
        <mxCell id="title_a2a" value="&lt;b&gt;A2A Server&lt;/b&gt;&lt;br&gt;&lt;font color='#AAA' size='1'&gt;title-agent&lt;/font&gt;&lt;hr&gt;&lt;font size='1'&gt;GET /.well-known/agent.json&lt;br&gt;POST / (message/send)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=#005A9E;fontColor=#FFFFFF;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="125" y="195" width="210" height="100" as="geometry" />
        </mxCell>
        <mxCell id="title_rest" value="&lt;b&gt;REST API&lt;/b&gt;&lt;br&gt;&lt;font color='#CCC' size='1'&gt;title-generator&lt;/font&gt;&lt;hr&gt;&lt;font size='1'&gt;POST /generate-title&lt;br&gt;{topic} → {title, generatedAt}&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#005A9E;strokeColor=#003B73;fontColor=#FFFFFF;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="125" y="335" width="210" height="110" as="geometry" />
        </mxCell>

        <!-- ========== OUTLINE AGENT ========== -->
        <mxCell id="outline_box" value="Outline Agent" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#4CAF50;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=12;fontColor=#4CAF50;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="380" y="155" width="240" height="320" as="geometry" />
        </mxCell>
        <mxCell id="outline_a2a" value="&lt;b&gt;A2A Server&lt;/b&gt;&lt;br&gt;&lt;font color='#AAA' size='1'&gt;outline-agent&lt;/font&gt;&lt;hr&gt;&lt;font size='1'&gt;GET /.well-known/agent.json&lt;br&gt;POST / (message/send)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=#005A9E;fontColor=#FFFFFF;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="395" y="195" width="210" height="100" as="geometry" />
        </mxCell>
        <mxCell id="outline_rest" value="&lt;b&gt;REST API&lt;/b&gt;&lt;br&gt;&lt;font color='#CCC' size='1'&gt;outline-generator&lt;/font&gt;&lt;hr&gt;&lt;font size='1'&gt;POST /generate-outline&lt;br&gt;{topic} → {sections[], generatedAt}&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#005A9E;strokeColor=#003B73;fontColor=#FFFFFF;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="395" y="335" width="210" height="110" as="geometry" />
        </mxCell>

        <!-- ========== SUMMARY AGENT (Phase 2 — dashed border) ========== -->
        <mxCell id="summary_box" value="Summary Agent" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#FF9800;strokeWidth=2;dashed=1;dashPattern=8 4;verticalAlign=top;fontStyle=1;fontSize=12;fontColor=#FF9800;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="650" y="155" width="240" height="320" as="geometry" />
        </mxCell>
        <mxCell id="summary_a2a" value="&lt;b&gt;A2A Server&lt;/b&gt;&lt;br&gt;&lt;font color='#AAA' size='1'&gt;summary-agent&lt;/font&gt;&lt;hr&gt;&lt;font size='1'&gt;GET /.well-known/agent.json&lt;br&gt;POST / (message/send)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0078D4;strokeColor=#005A9E;fontColor=#FFFFFF;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="665" y="195" width="210" height="100" as="geometry" />
        </mxCell>
        <mxCell id="summary_rest" value="&lt;b&gt;REST API&lt;/b&gt;&lt;br&gt;&lt;font color='#CCC' size='1'&gt;summary-generator&lt;/font&gt;&lt;hr&gt;&lt;font size='1'&gt;POST /generate-summary&lt;br&gt;{text} → {summary, wordCount}&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#005A9E;strokeColor=#003B73;fontColor=#FFFFFF;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="665" y="335" width="210" height="110" as="geometry" />
        </mxCell>

        <!-- send-request edges (A2A → REST) -->
        <mxCell id="e_title" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#0078D4;fontColor=#666;fontSize=9;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="title_a2a" target="title_rest">
          <mxGeometry relative="1" as="geometry" />
          <mxCell value="send-request" style="text;html=1;align=center;fontSize=9;fontColor=#666;" as="label" />
        </mxCell>
        <mxCell id="e_outline" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#0078D4;fontColor=#666;fontSize=9;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="outline_a2a" target="outline_rest">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_summary" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#0078D4;fontColor=#666;fontSize=9;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="summary_a2a" target="summary_rest">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Client → A2A edges -->
        <mxCell id="e_client_title" value="A2A JSON-RPC 2.0" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#9673A6;fontColor=#9673A6;fontSize=9;dashed=1;exitX=0.25;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="client" target="title_box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_client_outline" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#9673A6;fontSize=9;dashed=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="client" target="outline_box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_client_summary" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;strokeColor=#9673A6;fontSize=9;dashed=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="client" target="summary_box">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ========== API CENTER ========== -->
        <mxCell id="apic" value="Azure API Center" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F8FF;strokeColor=#50E6FF;strokeWidth=2;verticalAlign=top;fontStyle=1;fontSize=13;fontColor=#0078D4;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="200" y="620" width="620" height="145" as="geometry" />
        </mxCell>

        <!-- Environments -->
        <mxCell id="env_api" value="&lt;b&gt;api&lt;/b&gt; environment&lt;br&gt;&lt;font size='1' color='#666'&gt;REST APIs&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D5E8D4;strokeColor=#82B366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="215" y="660" width="150" height="45" as="geometry" />
        </mxCell>
        <mxCell id="env_mcp" value="&lt;b&gt;mcp&lt;/b&gt; environment&lt;br&gt;&lt;font size='1' color='#666'&gt;MCP Servers&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="660" width="150" height="45" as="geometry" />
        </mxCell>
        <mxCell id="env_a2a" value="&lt;b&gt;a2a&lt;/b&gt; environment&lt;br&gt;&lt;font size='1' color='#666'&gt;A2A Agents&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DAE8FC;strokeColor=#6C8EBF;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="645" y="660" width="150" height="45" as="geometry" />
        </mxCell>

        <!-- API registrations row -->
        <mxCell id="rest_reg" value="3× kind: &lt;b&gt;rest&lt;/b&gt;  |  Title API · Outline API · Summary API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#82B366;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="215" y="718" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="a2a_reg" value="3× kind: &lt;b&gt;a2a&lt;/b&gt;  |  Title · Outline · Summary" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#6C8EBF;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="545" y="718" width="260" height="30" as="geometry" />
        </mxCell>

        <!-- APIM → APIC auto-register edge -->
        <mxCell id="e_register" value="auto-registered via Bicep" style="edgeStyle=orthogonalEdgeStyle;rounded=1;html=1;dashed=1;strokeColor=#50E6FF;fontColor=#0078D4;fontSize=10;fontStyle=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="apim" target="apic">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Monitoring -->
        <mxCell id="monitor_box" value="Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F5F5;strokeColor=#999;verticalAlign=top;fontStyle=1;fontSize=10;fontColor=#666;" vertex="1" parent="1">
          <mxGeometry x="60" y="620" width="120" height="145" as="geometry" />
        </mxCell>
        <mxCell id="law" value="Log Analytics&lt;br&gt;Workspace" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#999;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="650" width="100" height="35" as="geometry" />
        </mxCell>
        <mxCell id="ai" value="Application&lt;br&gt;Insights" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#999;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="70" y="700" width="100" height="35" as="geometry" />
        </mxCell>

        <!-- Phase labels -->
        <mxCell id="phase1_label" value="&lt;font color='#4CAF50'&gt;&lt;b&gt;Phase 1&lt;/b&gt; — demo-a2a-initial.bicep (infra + Title + Outline)&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fillColor=none;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="80" y="790" width="360" height="20" as="geometry" />
        </mxCell>
        <mxCell id="phase2_label" value="&lt;font color='#FF9800'&gt;&lt;b&gt;Phase 2&lt;/b&gt; — demo-a2a-add-summary.bicep (Summary Agent add-on)&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;fontSize=10;fillColor=none;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="500" y="790" width="400" height="20" as="geometry" />
        </mxCell>

        <!-- Legend dots -->
        <mxCell id="legend_p1" style="ellipse;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#4CAF50;" vertex="1" parent="1">
          <mxGeometry x="65" y="793" width="12" height="12" as="geometry" />
        </mxCell>
        <mxCell id="legend_p2" style="ellipse;whiteSpace=wrap;html=1;fillColor=#FF9800;strokeColor=#FF9800;" vertex="1" parent="1">
          <mxGeometry x="485" y="793" width="12" height="12" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
